<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ReplyMapper">

	<!-- Beans의 멤버변수(property) 이름과 대상 테이블의 컬럼(column)을 연결한다. -->
	<resultMap type="study.shop.cidermarket.model.Reply" id="replyMap">
		<result property="replyno" column="replyno" />
		<result property="prodno" column="prodno" />
		<result property="writer" column="writer" />
		<result property="content" column="content" />
		<result property="regdate" column="regdate" />
		<result property="editdate" column="editdate" />
		<result property="nickname" column="nickname" />
	</resultMap>	
	<!-- 총 거래수 수 조회를 위한 기능 정의 -->
	<select id="selectList"
		parameterType="study.shop.cidermarket.model.Reply"
		resultMap="replyMap">
		SELECT r.replyno, r.prodno, r.writer, r.content, r.regdate, r.editdate, nickname
		FROM reply r
		INNER JOIN member m ON r.writer=m.membno
		WHERE r.prodno=#{prodno}
	</select>
</mapper>